/**
 * ECP Java plugins
 *  - The Java Plugin: https://docs.gradle.org/current/userguide/java_plugin.html
 *
 * @author Nes
 */

tasks.withType(AbstractCompile).each {
    it.options.encoding = 'UTF-8'
    it.sourceCompatibility = JavaVersion.VERSION_11
    it.targetCompatibility = JavaVersion.VERSION_11
}

plugins.withType(IdeaPlugin).configureEach {
    project.idea.module {
        downloadSources = true
        downloadJavadoc = true
    }

    // clean idea generated files
    clean {
        delete file('src/gen/generated')
        delete file('src/main/generated')
        delete file('src/test/generated_tests')
    }
}

plugins.withType(EclipsePlugin).configureEach {
    project.eclipse.classpath {
        downloadSources = true
        downloadJavadoc = true
    }
}

javadoc {
    source = project.sourceSets.main.allJava
    title = project.description
    failOnError = false
    options.locale = "en"
    options.charSet = "UTF-8"
    options.encoding = "UTF-8"
    options.use = true
    options.author = true
    options.version = true
    options.addStringOption('Xdoclint:none', '-quiet')
}
